#+title: NixOS as a daily driver

* Common tasks (These assume using [[file:20210324202244-devos.org][DevOS]] but *could* be generally applicable)

** "Discord updated and nixpkgs master hasn't been updated yet but I want to chat with people what do"

- Go to the discord website and click download to see w[[file:20210325151912-haskell_arguments_when_vs_unless.org][haskell arguments: when vs unless]]hat version is in the download.

It's 0.14.

What is nixpkgs?

#+begin_src sh
  nix-env -f '<nixpkgs>' -qaP -A discord
#+end_src

#+RESULTS:
: discord  discord-0.0.13

What is nixpkgs master?

#+begin_src sh
  nix-env -f https://github.com/NixOS/nixpkgs/archive/master.tar.gz -qaP -A discord
#+end_src

#+RESULTS:
: discord  discord-0.0.14


** [[file:20210326184713-nvidia_graphics_in_nixos.org][nvidia graphics in NixOS]]

** I want to replace uuidgen with shortuuid but there are no binaries

You can make a wrapper script :)

#+begin_src nix
{ stdenv, pkgs, lib }:

let pythonEnv = pkgs.python3.withPackages ( ps: [ ps.shortuuid ]);
in
pkgs.writeScriptBin "shortuuid" ''
#!${pythonEnv.interpreter}
import shortuuid
print (shortuuid.uuid())
''
#+end_src


